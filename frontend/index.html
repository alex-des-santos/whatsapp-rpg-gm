<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPG GM Dashboard - AI Assistant</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">üé≤</div>
                    <span class="logo-text">RPG GM AI</span>
                </div>
            </div>
            
            <ul class="sidebar-menu">
                <li class="menu-item active" data-section="dashboard">
                    <span class="menu-icon">üìä</span>
                    <span class="menu-text">Dashboard</span>
                </li>
                <li class="menu-item" data-section="whatsapp">
                    <span class="menu-icon">üí¨</span>
                    <span class="menu-text">WhatsApp</span>
                </li>
                <li class="menu-item" data-section="game-state">
                    <span class="menu-icon">‚öîÔ∏è</span>
                    <span class="menu-text">Estado do Jogo</span>
                </li>
                <li class="menu-item" data-section="ai-module">
                    <span class="menu-icon">ü§ñ</span>
                    <span class="menu-text">IA</span>
                </li>
                <li class="menu-item" data-section="dice-system">
                    <span class="menu-icon">üé≤</span>
                    <span class="menu-text">Sistema de Dados</span>
                </li>
                <li class="menu-item" data-section="hitl">
                    <span class="menu-icon">üë§</span>
                    <span class="menu-text">HITL</span>
                </li>
                <li class="menu-item" data-section="settings">
                    <span class="menu-icon">‚öôÔ∏è</span>
                    <span class="menu-text">Configura√ß√µes</span>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <h1>Dashboard Principal</h1>
                
                <!-- Metrics Cards -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">üí¨</div>
                        <div class="metric-content">
                            <div class="metric-value" id="messages-today">127</div>
                            <div class="metric-label">Mensagens Hoje</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üë•</div>
                        <div class="metric-content">
                            <div class="metric-value" id="active-sessions">3</div>
                            <div class="metric-label">Sess√µes Ativas</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üë§</div>
                        <div class="metric-content">
                            <div class="metric-value" id="human-interventions">2</div>
                            <div class="metric-label">Interven√ß√µes Humanas</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üé≤</div>
                        <div class="metric-content">
                            <div class="metric-value" id="dice-rolls">45</div>
                            <div class="metric-label">Rolagens de Dados</div>
                        </div>
                    </div>
                </div>

                <!-- Status Cards -->
                <div class="status-section">
                    <h2>Status do Sistema</h2>
                    <div class="status-grid">
                        <div class="status-card">
                            <div class="status-header">
                                <span>WhatsApp API</span>
                                <span class="status status--success">Online</span>
                            </div>
                            <div class="status-detail">Conectado e funcional</div>
                        </div>
                        <div class="status-card">
                            <div class="status-header">
                                <span>LLM Principal</span>
                                <span class="status status--success">Online</span>
                            </div>
                            <div class="status-detail">GPT-4 respondendo normalmente</div>
                        </div>
                        <div class="status-card">
                            <div class="status-header">
                                <span>Base de Conhecimento</span>
                                <span class="status status--success">Online</span>
                            </div>
                            <div class="status-detail">√öltima atualiza√ß√£o: 10min atr√°s</div>
                        </div>
                        <div class="status-card">
                            <div class="status-header">
                                <span>Sistema de Dados</span>
                                <span class="status status--success">Online</span>
                            </div>
                            <div class="status-detail">Todas as fun√ß√µes operacionais</div>
                        </div>
                    </div>
                </div>

                <!-- Activity Feed -->
                <div class="activity-section">
                    <h2>Atividades Recentes</h2>
                    <div class="activity-feed" id="activity-feed">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
            </section>

            <!-- WhatsApp Section -->
            <section id="whatsapp" class="content-section">
                <h1>Simulador WhatsApp</h1>
                
                <div class="whatsapp-container">
                    <div class="chat-header">
                        <div class="chat-avatar">ü§ñ</div>
                        <div class="chat-info">
                            <div class="chat-name">GM AI Assistant</div>
                            <div class="chat-status">Online</div>
                        </div>
                    </div>
                    
                    <div class="chat-messages" id="chat-messages">
                        <!-- Messages populated by JavaScript -->
                    </div>
                    
                    <div class="chat-actions">
                        <button class="btn btn--secondary action-btn" data-action="attack">‚öîÔ∏è Atacar</button>
                        <button class="btn btn--secondary action-btn" data-action="defend">üõ°Ô∏è Defender</button>
                        <button class="btn btn--secondary action-btn" data-action="investigate">üîç Investigar</button>
                        <button class="btn btn--secondary action-btn" data-action="talk">üí¨ Falar</button>
                    </div>
                    
                    <div class="chat-input">
                        <input type="text" class="form-control" id="message-input" placeholder="Digite sua mensagem...">
                        <button class="btn btn--primary" id="send-message">Enviar</button>
                    </div>
                </div>
            </section>

            <!-- Game State Section -->
            <section id="game-state" class="content-section">
                <h1>Estado do Jogo</h1>
                
                <div class="game-state-grid">
                    <!-- Characters -->
                    <div class="game-section">
                        <h2>Personagens</h2>
                        <div class="characters-container" id="characters-container">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- World State -->
                    <div class="game-section">
                        <h2>Mundo</h2>
                        <div class="world-info card">
                            <div class="card__body">
                                <div class="world-item">
                                    <label>Cena Atual:</label>
                                    <span id="current-scene">Investiga√ß√£o na Taverna</span>
                                </div>
                                <div class="world-item">
                                    <label>Quest Ativa:</label>
                                    <span id="active-quest">O Mist√©rio dos Comerciantes Desaparecidos</span>
                                </div>
                                <div class="world-item">
                                    <label>Localiza√ß√£o:</label>
                                    <span id="location">Taverna do Drag√£o Dourado</span>
                                </div>
                                <div class="world-item">
                                    <label>Ambiente:</label>
                                    <span id="environment">Final da tarde, chuva leve</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="npcs-section">
                            <h3>NPCs Presentes</h3>
                            <div id="npcs-container">
                                <!-- Populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- AI Module Section -->
            <section id="ai-module" class="content-section">
                <h1>M√≥dulo de IA</h1>
                
                <div class="ai-config-grid">
                    <div class="llm-configs">
                        <h2>Configura√ß√£o de LLMs</h2>
                        <div class="llm-tabs">
                            <button class="tab-btn active" data-llm="openai">OpenAI</button>
                            <button class="tab-btn" data-llm="anthropic">Anthropic</button>
                            <button class="tab-btn" data-llm="google">Google</button>
                            <button class="tab-btn" data-llm="local">Local</button>
                        </div>
                        
                        <div class="llm-config" id="llm-config">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="prompt-tester">
                        <h2>Teste de Prompts</h2>
                        <div class="card">
                            <div class="card__body">
                                <div class="form-group">
                                    <label class="form-label">Prompt de Teste:</label>
                                    <textarea class="form-control" id="test-prompt" rows="4" placeholder="Digite um prompt para testar..."></textarea>
                                </div>
                                <button class="btn btn--primary" id="test-llm">Testar LLM</button>
                                
                                <div class="test-result" id="test-result" style="display: none;">
                                    <h4>Resultado:</h4>
                                    <div class="result-content"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dice System Section -->
            <section id="dice-system" class="content-section">
                <h1>Sistema de Dados</h1>
                
                <div class="dice-container">
                    <div class="dice-section">
                        <h2>Dados D&D</h2>
                        <div class="dice-buttons">
                            <button class="dice-btn" data-sides="4">d4</button>
                            <button class="dice-btn" data-sides="6">d6</button>
                            <button class="dice-btn" data-sides="8">d8</button>
                            <button class="dice-btn" data-sides="10">d10</button>
                            <button class="dice-btn" data-sides="12">d12</button>
                            <button class="dice-btn" data-sides="20">d20</button>
                        </div>
                        
                        <div class="custom-roll">
                            <h3>Rolagem Customizada</h3>
                            <div class="flex gap-8">
                                <input type="text" class="form-control" id="custom-dice" placeholder="Ex: 2d6+3">
                                <button class="btn btn--primary" id="roll-custom">Rolar</button>
                            </div>
                        </div>
                        
                        <div class="dc-calculator">
                            <h3>Calculadora de Testes</h3>
                            <div class="flex gap-8">
                                <input type="number" class="form-control" id="dc-value" placeholder="DC" min="1" max="30">
                                <button class="btn btn--secondary" id="roll-dc">Rolar d20</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dice-results">
                        <h2>Resultados</h2>
                        <div class="current-result" id="current-result">
                            <div class="result-display">Nenhuma rolagem ainda</div>
                        </div>
                        
                        <div class="dice-history">
                            <h3>Hist√≥rico</h3>
                            <div class="history-list" id="dice-history">
                                <!-- Populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- HITL Section -->
            <section id="hitl" class="content-section">
                <h1>Sistema HITL</h1>
                
                <div class="hitl-container">
                    <div class="intervention-alerts">
                        <h2>Alertas de Interven√ß√£o</h2>
                        <div class="alerts-container" id="alerts-container">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="control-panel">
                        <h2>Controle Manual</h2>
                        <div class="card">
                            <div class="card__body">
                                <div class="control-toggle">
                                    <label class="form-label">Modo de Opera√ß√£o:</label>
                                    <div class="toggle-buttons">
                                        <button class="btn btn--secondary active" id="auto-mode">IA Autom√°tica</button>
                                        <button class="btn btn--outline" id="manual-mode">Controle Manual</button>
                                    </div>
                                </div>
                                
                                <div class="manual-response" id="manual-response" style="display: none;">
                                    <div class="form-group">
                                        <label class="form-label">Resposta Manual do GM:</label>
                                        <textarea class="form-control" id="gm-response" rows="4" placeholder="Digite a resposta manual..."></textarea>
                                    </div>
                                    <button class="btn btn--primary" id="send-manual">Enviar Resposta</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="session-transcript">
                        <h2>Transcri√ß√£o da Sess√£o</h2>
                        <div class="transcript-container" id="transcript-container">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="content-section">
                <h1>Configura√ß√µes</h1>
                
                <div class="settings-container">
                    <div class="settings-section">
                        <h2>Evolution API</h2>
                        <div class="card">
                            <div class="card__body">
                                <div class="form-group">
                                    <label class="form-label">URL da API:</label>
                                    <input type="text" class="form-control" id="api-url" value="https://api.evolution.com">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Token:</label>
                                    <input type="password" class="form-control" id="api-token" value="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                                </div>
                                <button class="btn btn--primary">Testar Conex√£o</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h2>Par√¢metros de IA</h2>
                        <div class="card">
                            <div class="card__body">
                                <div class="form-group">
                                    <label class="form-label">Provider Ativo:</label>
                                    <select class="form-control" id="active-provider">
                                        <option value="openai" selected>OpenAI GPT-4</option>
                                        <option value="anthropic">Anthropic Claude</option>
                                        <option value="google">Google Gemini</option>
                                        <option value="local">Local Llama</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Tempo Limite (s):</label>
                                    <input type="number" class="form-control" id="timeout" value="30" min="5" max="120">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Tentativas:</label>
                                    <input type="number" class="form-control" id="retries" value="3" min="1" max="5">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h2>Configura√ß√µes de RPG</h2>
                        <div class="card">
                            <div class="card__body">
                                <div class="form-group">
                                    <label class="form-label">Sistema:</label>
                                    <select class="form-control" id="rpg-system">
                                        <option value="dnd5e" selected>D&D 5¬™ Edi√ß√£o</option>
                                        <option value="pathfinder">Pathfinder</option>
                                        <option value="vampire">Vampiro: A M√°scara</option>
                                        <option value="cyberpunk">Cyberpunk Red</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">N√≠vel de Dificuldade:</label>
                                    <select class="form-control" id="difficulty">
                                        <option value="easy">F√°cil</option>
                                        <option value="normal" selected>Normal</option>
                                        <option value="hard">Dif√≠cil</option>
                                        <option value="brutal">Brutal</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>